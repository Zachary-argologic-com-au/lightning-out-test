<html>
<style>
[data-lightning-out="true"]
{
}
</style>
                
<script src="https://phifinneymcdonald2020--settlform.sandbox.my.site.com//lightning/lightning.out.js"></script>
<div data-lightning-out="true"></div>

<script>

    const appName = 'c:lightningOutApp';
    const componentName = 'c:LightningOutFlowLwc';
    const lightningEndpoint = 'https://phifinneymcdonald2020--settlform.sandbox.my.site.com/';
    const targetElement = document.querySelector("[data-lightning-out]");
    
    // read url paramater
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    const componentAttributes = {
        flowApiName: 'Form_Submission_Settlement_Form',
        flowInputVariables: [{name: 'recordId', type: 'String', value: urlParams.get('recordId')}]
    };

    $Lightning.use(
        appName,
        function (){
            $Lightning.createComponent(
                componentName,
                componentAttributes,
                targetElement,
                function (cmp){
                    console.log('lightning component created');
                }
            );
        },
        lightningEndpoint
    );

</script>
</html>
